<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="#" id="form">
        <h1>Đăng kí</h1>
        <h3>Name</h3>
        <input type="text" name="" id="userName" placeholder="Enter name">
        <h3>Address</h3>
        <input type="text" name="" id="email" placeholder="Enter email address " onchange="nhapEmail();"><span
            id="text"></span>
        <h3>PHONE</h3>
        <input type="text" name="" id="phone" placeholder="Enter phone number " onchange="nhapPhone();"><span
            id="text1"></span>
        <h3>Year of Birthday</h3>
        <input type="text" name="" id="BirthdayYear" placeholder="enter year of birth" onchange="nhapDate()"><span
            id="text2"></span>
        <h3>Rent Days</h3>
        <input type="text" name="" id="rentDay" placeholder="enter rent days" onchange="check_number()"><span
        id="text3"></span>
        
        <h3>Customer name</h3>
        <input type="text" name="" id="Customer" placeholder="enter customer name" onkeypress="nhapCustomer()"><span
        id="text4"></span>
         <!-- <input type="text" name="" id="countPeople" placeholder="enter count people"> -->
            <br> <br> 
   

    </form>


</body>
<script>
    function nhapEmail(){
        //  var email = String(prompt("Nhập email\n Note: Có đuôi @gmail.com: "));
         var text = document.getElementById("text");
         var email = document.getElementById('email').value;
         email.toLocaleLowerCase();
         substring = "@gmail.com";
        alert(email.indexOf(substring));
         if( email.indexOf(substring) === -1){  
            text.innerHTML = "please enter valid mail";
            text.style.color ="#ff0000";
         }
         else {
            text.innerHTML = "valid email";
            text.style.color ="#ff0000";
         }

    }
    function nhapPhone(){
        var phone = document.getElementById('phone').value;
        var text = document.getElementById("text1");
        var check = /^\d{9}$/;
        if( phone.match(check)){  
            text.innerHTML = "valid phone";
            text.style.color ="#ff0000";
         }
         else {
            text.innerHTML = "please enter valid phone";
            text.style.color ="#ff0000";
         }
    }
    function nhapDate(){
        var text = document.getElementById("text2");
        var str = document.getElementById("BirthdayYear").value;
        var comp = str.split('/');
        var d = parseInt(comp[0], 10);
        var m = parseInt(comp[1], 10);
        var y = parseInt(comp[2], 10);
        var date = new Date(y,m-1,d);
        if (date.getFullYear() == y && date.getMonth() + 1 == m && date.getDate() == d) {
            text.innerHTML = "valid date";
            text.style.color ="#ff0000";
        }
        else {
            text.innerHTML = "please enter valid date";
            text.style.color ="#ff0000";
        }
    }
    function nhapCustomer(){
       
        var text = document.getElementById("text4");
        var str = document.getElementById("Customer");
        str = str.trim().toLocaleLowerCase(); // bỏ dấu cách
        alert(str);

        for (var i=0;i<str.length;i++){
                str = str.replace(/ +/g, ' ');
        }
        let array = str.split(" ");
        for (let i = 0; i < array.length; i++) {
            array[i] = array[i].replace(array[i][0], array[i][0].toLocaleUpperCase());
        }

        if(event.keyCode==13){
        // text.innerHTML(array.join(" "));
        
    }
    // Chưa xong
    // Enter ndung trong text4 -> chuẩn hóa
}
    
</script>
</html>